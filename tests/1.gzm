namespace coven {}

namespace coven::os {

declare fn do_something()

fn do_something() {
    return;
}

fn add(a: u32, b: u32) => u32 {
    const c: u32 = a + b;
    return c;
}

const max_u32: u32 = 0xffffffff;

fn sub(a: i32, b: i32) => i32 {
    var c: i32 = dirty;
    c = a - b;
    return c;
}

// Calculate n-th fibonacci number
fn fib(n: u64) => u64 {
    if n == 0 {
        return 0;
    } else if n == 1 {
        return 1;
    } else {
        return fib(n-1) + fib(n-2);
    }
}

fn change_by_pointer(x: *i32) {
    if x == nil {
        return;
    }

    x.@ = -0xf4;
}

fn call_another_function() {
    fib(5);
}

fn change_array_pointer(a: [*]u8) {
    a.[0] = 'h';
    a.[1] = 'e';
    a.[2] = 'l';
    a.[3] = 'l';
    a.[4] = 'o';
}

}
